<div class="row-fluid">		

    <div class="span12  ace-container extend" id="leftPane" style="height:20em;">		
        <div id="editor" class="ace">module namespace txq = 'apb.txq';
declare default function namespace 'apb.txq'; 
import module namespace xquery = "http://basex.org/modules/xquery";

(:~
: template function
: @param template url to fill
: @param map name and value to apply
: @return updated doc from map
:)
declare function render($template as xs:string,$map as map(*)){{    
   let $map:=map:new(($map,map{{"partial":=partial(?,?,?,$map,$template)}}))
   return xquery:invoke($template,$map)  
}};</div>
    </div>
    <script>
  acediv("editor","xquery",false)
    </script>
</div>
